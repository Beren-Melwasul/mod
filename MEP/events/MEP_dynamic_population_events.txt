namespace = RIPPOP

character_event = {
	id = RIPPOP.101

	hide_window = yes
	
	is_triggered_only = yes
	
	only_playable = yes
	
	trigger = {
		has_dlc = "Reapers"
	}
	
	immediate = {
		any_realm_province = {
			limit = {
				any_province_holding = { #empty provinces (including provinces with ONLY a temple) do not prosper
					OR = {
						holding_type = city
						#holding_type = temple
						holding_type = castle
						#holding_type = tribal
					}
				}
				owner = { character = ROOT }
				NOR = { #disallows event if province has these modifiers
					has_province_modifier = depopulated_1
					has_province_modifier = depopulated_2
					has_province_modifier = depopulated_3
				}
				OR = { #allows event if province has one of these modifiers
					has_province_modifier = population_decline_value_1
					has_province_modifier = population_decline_value_2
					has_province_modifier = population_decline_value_3
				}
			}
			province_event = {
				id = RIPPOP.110
			}
		}
	}
}

province_event = { #Population gain
	id = RIPPOP.110

	hide_window = yes
	
	is_triggered_only = yes
	
	option = {
			random = {
			chance = 10 #10% base chance to increase population
				modifier = {
					factor = 1.5 #over 18 stewardship you have a 15% chance
					owner = {
						stewardship = 18
					}
				}
				modifier = {
					factor = 1.5 #over 22 stewardship you increase to a 20% chance
					owner = {
						stewardship = 22
					}
				}
				modifier = {
					factor = 1.2 #having trade posts increases the chance
					has_trade_post = yes
				}
				modifier = {
					factor = 0.9 #having under 10 stewardship slightly reduces the chance
					owner = {
						NOT = { stewardship = 10 }
					}
				}
				modifier = {
					factor = 0.8 #having under 4 stewardship significantly reduces the chance
					owner = {
						NOT = { stewardship = 4 }
					}
				}
				modifier = {
					factor = 0.9 #not being independent slightly reduces the chance
					owner = {
						NOT = { independent = yes }
					}
				}
				modifier = {
					factor = 0.6 #tribes prosper slower
					AND = {
						owner = {
							is_tribal = yes
						}
						any_province_holding = {
							holding_type = tribal
						}
					}
				}
				modifier = {
					factor = 0.5 #bad province modifiers decrease chance
					OR = {
						has_province_modifier = incompetent_rule
						has_province_modifier = thieves_guild
						has_province_modifier = smugglers_ring
						has_province_modifier = highway_robber_band
						has_province_modifier = heretic_stronghold
						has_province_modifier = religious_tension
						has_province_modifier = temple_corruption
						has_province_modifier = local_death_cult
						has_province_modifier = extra_tax
					}
				}
				modifier = {
					factor = 0.7 #slightly lower chance if helping in a war
					owner = {
						any_war = {
							NOR = {
								is_primary_war_defender = yes
								is_primary_war_attacker = yes
							}
						}
						NOR = {
							any_war = {
								is_primary_war_defender = yes
							}
							any_war = {
								is_primary_war_attacker = yes
							}
						}
					}
				}
				modifier = {
					factor = 0.5 #low chance if defending in a war
					owner = {
						any_war = {
							is_primary_war_defender = yes
						}
						NOT = {
							any_war = {
								is_primary_war_attacker = yes
							}
						}
					}
				}
				modifier = {
					factor = 0.2 #very low chance if attacking in a war
					owner = {
						any_war = {
							is_primary_war_attacker = yes
						}
					}
				}
				modifier = {
					factor = 0 #no chance if under siege/occupied/diseased
					OR = {
						any_province_holding = {
							has_siege = yes
						}
						any_province_holding = {
							is_occupied = yes
						}
						has_disease = yes
					}
				}
				
				trigger_switch = {
					on_trigger	= terrain
					farmlands	= { change_variable = { which = population_decline_value value = 10 } } #gain depends on terrain type
					plains		= { change_variable = { which = population_decline_value value = 8 } }
					steppe 		= { change_variable = { which = population_decline_value value = 8 } }
					forest 		= { change_variable = { which = population_decline_value value = 6 } }
					hills		= { change_variable = { which = population_decline_value value = 6 } }
					jungle		= { change_variable = { which = population_decline_value value = 4 } }
					desert		= { change_variable = { which = population_decline_value value = 4 } }
					mountain	= { change_variable = { which = population_decline_value value = 2 } }
					arctic		= { change_variable = { which = population_decline_value value = 2 } }
				}
				
				if = { # Coastal provinces populate quicker because they get more trade/disease
					limit = {
						port = yes
						any_province_holding = {
							holding_type = city
						}
					}
					change_variable = { which = population_decline_value value = 2 }
				}
				
				if = { # Coastal Mountains/Arctic, i.e. Aden, populate quicker than non-coastal terrain of the same type
					limit = {
						port = yes
						any_province_holding = {
							holding_type = city
						}
						OR = {
							terrain = mountain
							terrain = arctic
						}
					}
					change_variable = { which = population_decline_value value = 4 }
				}
				
				if = { # Coastal Desert/Jungle populate quicker than non-coastal terrain of the same type 
					limit = {
						port = yes
						any_province_holding = {
							holding_type = city
						}
						OR = {
							terrain = desert
							terrain = jungle
						}
					}
					change_variable = { which = population_decline_value value = 2 }
				}
				
				if = { # Mountain populations grow more quickly for dwarves
					limit = {
						OR = {
							terrain = mountain
							terrain = hills
						}
						culture_group = culture_group_dwarves
					}
					change_variable = { which = population_decline_value value = 4 }
				}
				
				if = { # Farmlands and plains populate more quickly for hobbits
					limit = { 
						OR = {
							terrain = farmlands
							terrain = plains
						}
						culture_group = culture_group_halfling
					}
					change_variable = { which = population_decline_value value = 5 }
				}
				if = { # Forest and Jungle populations grow more quickly for elves.
					limit = { Elves 
						OR = {
							terrain = forest
							terrain = jungle
						}
						OR = {
							culture_group = culture_group_quendi
							culture_group = culture_group_amanyar
							culture_group = culture_group_umanyar
							culture_group = culture_group_moriquendi
						}
					}
					change_variable = { which = population_decline_value value = 3 }
				}
			}
			if = {
				limit = {
					has_province_flag = crown_focus_province #provinces with crown focus set gain a bonus 1-5 population progress per year regardless of other factors
					NOR = {
						any_province_holding = {
							is_occupied = yes
						}
						has_disease = yes
					}
				}
				random_list = {
					10 = {
						change_variable = { which = population_decline_value value = 5 }
					}
					10 = {
						change_variable = { which = population_decline_value value = 4 }
					}
					10 = {
						change_variable = { which = population_decline_value value = 3 }
					}
					10 = {
						change_variable = { which = population_decline_value value = 2 }
					}
					10 = {
						change_variable = { which = population_decline_value value = 1 }
					}
				}
			}
			
###What follows is the dynamic increase of population for the various races.
			IF = {
				limit = {
					check_variable = { which = population_decline_value value = 50 } #gain modifiers at 50/100/150/250/350/500 value
					NOR = {
						has_province_modifier = two_population_human
						has_province_modifier = three_population_human
						has_province_modifier = four_population_human
						has_province_modifier = five_population_human
						has_province_modifier = six_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = two_population_dunedain
						has_province_modifier = three_population_dunedain
						has_province_modifier = four_population_dunedain
						has_province_modifier = five_population_dunedain
						has_province_modifier = six_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = two_population_elves
						has_province_modifier = three_population_elves
						has_province_modifier = four_population_elves
						has_province_modifier = five_population_elves
						has_province_modifier = six_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = two_population_dwarves
						has_province_modifier = three_population_dwarves
						has_province_modifier = four_population_dwarves
						has_province_modifier = five_population_dwarves
						has_province_modifier = six_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = two_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = two_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = two_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = two_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
			}
			IF = {
				limit = {
					check_variable = { which = population_decline_value value = 100 } #gain modifiers at 50/100/150/250/350/500 value
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = three_population_human
						has_province_modifier = four_population_human
						has_province_modifier = five_population_human
						has_province_modifier = six_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = three_population_dunedain
						has_province_modifier = four_population_dunedain
						has_province_modifier = five_population_dunedain
						has_province_modifier = six_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = three_population_elves
						has_province_modifier = four_population_elves
						has_province_modifier = five_population_elves
						has_province_modifier = six_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = three_population_dwarves
						has_province_modifier = four_population_dwarves
						has_province_modifier = five_population_dwarves
						has_province_modifier = six_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = three_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = three_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = three_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = three_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
			}
			IF = {
				limit = {
					check_variable = { which = population_decline_value value = 150 } #gain modifiers at 50/100/150/250/350/500 value
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = two_population_human
						has_province_modifier = four_population_human
						has_province_modifier = five_population_human
						has_province_modifier = six_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = two_population_dunedain
						has_province_modifier = four_population_dunedain
						has_province_modifier = five_population_dunedain
						has_province_modifier = six_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = two_population_elves
						has_province_modifier = four_population_elves
						has_province_modifier = five_population_elves
						has_province_modifier = six_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = two_population_dwarves
						has_province_modifier = four_population_dwarves
						has_province_modifier = five_population_dwarves
						has_province_modifier = six_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = four_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = four_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = four_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = four_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
			}
			IF = {
				limit = {
					check_variable = { which = population_decline_value value = 250 } #gain modifiers at 50/100/150/250/350/500 value
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = two_population_human
						has_province_modifier = three_population_human
						has_province_modifier = five_population_human
						has_province_modifier = six_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = two_population_dunedain
						has_province_modifier = three_population_dunedain
						has_province_modifier = five_population_dunedain
						has_province_modifier = six_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = two_population_elves
						has_province_modifier = three_population_elves
						has_province_modifier = five_population_elves
						has_province_modifier = six_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = two_population_dwarves
						has_province_modifier = three_population_dwarves
						has_province_modifier = five_population_dwarves
						has_province_modifier = six_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = five_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = five_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = five_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = five_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
			}
			IF = {
				limit = {
					check_variable = { which = population_decline_value value = 350 } #gain modifiers at 50/100/150/250/350/500 value
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = two_population_human
						has_province_modifier = three_population_human
						has_province_modifier = four_population_human
						has_province_modifier = six_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = two_population_dunedain
						has_province_modifier = three_population_dunedain
						has_province_modifier = four_population_dunedain
						has_province_modifier = six_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = two_population_elves
						has_province_modifier = three_population_elves
						has_province_modifier = four_population_elves
						has_province_modifier = six_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = two_population_dwarves
						has_province_modifier = three_population_dwarves
						has_province_modifier = four_population_dwarves
						has_province_modifier = six_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = six_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = six_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = six_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = six_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
			}
			IF = {
				limit = {
					check_variable = { which = population_decline_value value = 500 } #gain modifiers at 50/100/150/250/350/500 value
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = two_population_human
						has_province_modifier = three_population_human
						has_province_modifier = four_population_human
						has_province_modifier = five_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = two_population_dunedain
						has_province_modifier = three_population_dunedain
						has_province_modifier = four_population_dunedain
						has_province_modifier = five_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = two_population_elves
						has_province_modifier = three_population_elves
						has_province_modifier = four_population_elves
						has_province_modifier = five_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = two_population_dwarves
						has_province_modifier = three_population_dwarves
						has_province_modifier = four_population_dwarves
						has_province_modifier = five_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = seven_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = seven_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = seven_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = seven_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.120 } }
					break = yes
				}
			}
	}
}

character_event = { #when sieged population progress is wiped, with a major chance to drop a level of population
	id = RIPPOP.102 

	hide_window = yes
	
	is_triggered_only = yes	# event triggered from the "00_on_actions.txt"
	
	immediate = {
		FROM = {
			location = {
				set_variable = { which = population_decline_value value = 0 }
				random = {
				chance = 75 #chance to lower by 1 step
					if = {
						limit = {
							has_province_modifier = seven_population_human
							has_province_modifier = seven_population_dunedain
							has_province_modifier = seven_population_elves
							has_province_modifier = seven_population_dwarves
						}
						IF = {
							has_province_modifier = seven_population_human

							add_province_modifier = six_population_human
							remove_province_modifier = seven_population_human
							break = yes
						}
						IF = {
							has_province_modifier = seven_population_dunedain

							add_province_modifier = six_population_dunedain
							remove_province_modifier = seven_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = seven_population_elves

							add_province_modifier = six_population_elves
							remove_province_modifier = seven_population_elves
							break = yes
						}
						IF = {
							has_province_modifier = seven_population_dwarves

							add_province_modifier = six_population_dwarves
							remove_province_modifier = seven_population_dwarves
							break = yes
						}
					}
					if = {
						limit = {
							has_province_modifier = six_population_human
							has_province_modifier = six_population_dunedain
							has_province_modifier = six_population_elves
							has_province_modifier = six_population_dwarves
						}
						IF = {
							has_province_modifier = six_population_human

							add_province_modifier = five_population_human
							remove_province_modifier = six_population_human
							break = yes
						}
						IF = {
							has_province_modifier = six_population_dunedain

							add_province_modifier = five_population_dunedain
							remove_province_modifier = six_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = six_population_elves
								
							add_province_modifier = five_population_elves
							remove_province_modifier = six_population_elves
							break = yes
						}
						IF = {
							has_province_modifier = six_population_dwarves
								
							add_province_modifier = five_population_dwarves
							remove_province_modifier = six_population_dwarves
							break = yes
						}
					}
					if = {
						limit = {
							has_province_modifier = five_population_human
							has_province_modifier = five_population_dunedain
							has_province_modifier = five_population_elves
							has_province_modifier = five_population_dwarves
						}
						IF = {
							has_province_modifier = five_population_human

							add_province_modifier = four_population_human
							remove_province_modifier = five_population_human
							break = yes
						}
						IF = {
							has_province_modifier = five_population_dunedain

							add_province_modifier = four_population_dunedain
							remove_province_modifier = five_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = five_population_elves

							add_province_modifier = four_population_elves
							remove_province_modifier = five_population_elves
							break = yes
						}
						IF = {
							has_province_modifier = five_population_dwarves

							add_province_modifier = four_population_dwarves
							remove_province_modifier = five_population_dwarves
							break = yes
						}
					}
					if = {
						limit = {
							has_province_modifier = four_population_human
							has_province_modifier = four_population_dunedain
							has_province_modifier = four_population_elves
							has_province_modifier = four_population_dwarves
						}
						IF = {
							has_province_modifier = four_population_human

							add_province_modifier = three_population_human
							remove_province_modifier = four_population_human
							break = yes
						}
						IF = {
							has_province_modifier = four_population_dunedain

							add_province_modifier = three_population_dunedain
							remove_province_modifier = four_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = four_population_elves

							add_province_modifier = three_population_elves
							remove_province_modifier = four_population_elves
							break = yes
						}
						IF = {
							has_province_modifier = four_population_dwarves

							add_province_modifier = three_population_dwarves
							remove_province_modifier = four_population_dwarves
							break = yes
						}
					}
					if = {
						limit = {
							has_province_modifier = three_population_human
							has_province_modifier = three_population_dunedain
							has_province_modifier = three_population_elves
							has_province_modifier = three_population_dwarves

						}
						IF = {
							has_province_modifier = three_population_human
									
							add_province_modifier = two_population_human
							remove_province_modifier = three_population_human
							break = yes
						}
						IF = {
							has_province_modifier = three_population_dunedain

							add_province_modifier = two_population_dunedain
							remove_province_modifier = three_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = three_population_elves

							add_province_modifier = two_population_elves
							remove_province_modifier = three_population_elves
							break = yes
						}
						IF = {
							FROM = {
								location = {
									has_province_modifier = three_population_dwarves
								}
							}
							add_province_modifier = two_population_dwarves
							remove_province_modifier = three_population_dwarves
							break = yes
						}
					}
					if = {
						limit = {
							has_province_modifier = two_population_human
							has_province_modifier = two_population_dunedain
							has_province_modifier = two_population_elves
							has_province_modifier = two_population_dwarves
						}
						IF = {
							has_province_modifier = two_population_human

							add_province_modifier = one_population_human
							remove_province_modifier = two_population_human
							break = yes
						}
						IF = {
							has_province_modifier = two_population_dunedain

							add_province_modifier = one_population_dunedain
							remove_province_modifier = two_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = two_population_elves

							add_province_modifier = one_population_elves
							remove_province_modifier = two_population_elves
							break = yes
						}
						IF = {
							has_province_modifier = two_population_dwarves

							add_province_modifier = one_population_dwarves
							remove_province_modifier = two_population_dwarves
							break = yes
						}
					}
				}
			}
		}
	}
}

character_event = { #when looted prosperity progress is wiped, with a minor chance to drop a level
	id = RIPPOP.103

	hide_window = yes
	
	is_triggered_only = yes	# event triggered from the "00_on_actions.txt"
	
	immediate = {
		FROM = {
			location = {
				set_variable = { which = population_decline_value value = 0 }
				random = {
				chance = 15 #chance to lower by 1 step
					if = {
						limit = {
							has_province_modifier = seven_population_human
							has_province_modifier = seven_population_dunedain
							has_province_modifier = seven_population_elves
							has_province_modifier = seven_population_dwarves
						}
						IF = {
							has_province_modifier = seven_population_human

							add_province_modifier = six_population_human
							remove_province_modifier = seven_population_human
							break = yes
						}
						IF = {
							has_province_modifier = seven_population_dunedain

							add_province_modifier = six_population_dunedain
							remove_province_modifier = seven_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = seven_population_elves

							add_province_modifier = six_population_elves
							remove_province_modifier = seven_population_elves
							break = yes
						}
						IF = {
							has_province_modifier = seven_population_dwarves

							add_province_modifier = six_population_dwarves
							remove_province_modifier = seven_population_dwarves
							break = yes
						}
					}
					if = {
						limit = {
							has_province_modifier = six_population_human
							has_province_modifier = six_population_dunedain
							has_province_modifier = six_population_elves
							has_province_modifier = six_population_dwarves
						}
						IF = {
							has_province_modifier = six_population_human

							add_province_modifier = five_population_human
							remove_province_modifier = six_population_human
							break = yes
						}
						IF = {
							has_province_modifier = six_population_dunedain

							add_province_modifier = five_population_dunedain
							remove_province_modifier = six_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = six_population_elves
								
							add_province_modifier = five_population_elves
							remove_province_modifier = six_population_elves
							break = yes
						}
						IF = {
							has_province_modifier = six_population_dwarves
								
							add_province_modifier = five_population_dwarves
							remove_province_modifier = six_population_dwarves
							break = yes
						}
					}
					if = {
						limit = {
							has_province_modifier = five_population_human
							has_province_modifier = five_population_dunedain
							has_province_modifier = five_population_elves
							has_province_modifier = five_population_dwarves
						}
						IF = {
							has_province_modifier = five_population_human

							add_province_modifier = four_population_human
							remove_province_modifier = five_population_human
							break = yes
						}
						IF = {
							has_province_modifier = five_population_dunedain

							add_province_modifier = four_population_dunedain
							remove_province_modifier = five_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = five_population_elves

							add_province_modifier = four_population_elves
							remove_province_modifier = five_population_elves
							break = yes
						}
						IF = {
							has_province_modifier = five_population_dwarves

							add_province_modifier = four_population_dwarves
							remove_province_modifier = five_population_dwarves
							break = yes
						}
					}
					if = {
						limit = {
							has_province_modifier = four_population_human
							has_province_modifier = four_population_dunedain
							has_province_modifier = four_population_elves
							has_province_modifier = four_population_dwarves
						}
						IF = {
							has_province_modifier = four_population_human

							add_province_modifier = three_population_human
							remove_province_modifier = four_population_human
							break = yes
						}
						IF = {
							has_province_modifier = four_population_dunedain

							add_province_modifier = three_population_dunedain
							remove_province_modifier = four_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = four_population_elves

							add_province_modifier = three_population_elves
							remove_province_modifier = four_population_elves
							break = yes
						}
						IF = {
							has_province_modifier = four_population_dwarves

							add_province_modifier = three_population_dwarves
							remove_province_modifier = four_population_dwarves
							break = yes
						}
					}
					if = {
						limit = {
							has_province_modifier = three_population_human
							has_province_modifier = three_population_dunedain
							has_province_modifier = three_population_elves
							has_province_modifier = three_population_dwarves

						}
						IF = {
							has_province_modifier = three_population_human
									
							add_province_modifier = two_population_human
							remove_province_modifier = three_population_human
							break = yes
						}
						IF = {
							has_province_modifier = three_population_dunedain

							add_province_modifier = two_population_dunedain
							remove_province_modifier = three_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = three_population_elves

							add_province_modifier = two_population_elves
							remove_province_modifier = three_population_elves
							break = yes
						}
						IF = {
							FROM = {
								location = {
									has_province_modifier = three_population_dwarves
								}
							}
							add_province_modifier = two_population_dwarves
							remove_province_modifier = three_population_dwarves
							break = yes
						}
					}
					if = {
						limit = {
							has_province_modifier = two_population_human
							has_province_modifier = two_population_dunedain
							has_province_modifier = two_population_elves
							has_province_modifier = two_population_dwarves
						}
						IF = {
							has_province_modifier = two_population_human

							add_province_modifier = one_population_human
							remove_province_modifier = two_population_human
							break = yes
						}
						IF = {
							has_province_modifier = two_population_dunedain

							add_province_modifier = one_population_dunedain
							remove_province_modifier = two_population_dunedain
							break = yes
						}
						IF = {
							has_province_modifier = two_population_elves

							add_province_modifier = one_population_elves
							remove_province_modifier = two_population_elves
							break = yes
						}
						IF = {
							has_province_modifier = two_population_dwarves

							add_province_modifier = one_population_dwarves
							remove_province_modifier = two_population_dwarves
							break = yes
						}
					}
				}
			}
		}
	}
}

character_event = {
	id = RIPPOP.104

	hide_window = yes
	
	is_triggered_only = yes
	
	only_playable = yes
	
	trigger = {
		has_dlc = "Reapers"
	}
	
	immediate = {
		any_realm_province = {
			limit = {
				any_province_holding = { #empty provinces (including provinces with ONLY a temple) do not prosper
					OR = {
						holding_type = city
						#holding_type = temple
						holding_type = castle
						#holding_type = tribal
					}
				}
				owner = { character = ROOT }
				NOR = { #disallows event if province has these modifiers
					has_province_modifier = population_decline_value_1
					has_province_modifier = population_decline_value_2
					has_province_modifier = population_decline_value_3
				}
				OR = { #allows event if province has one of these modifiers
					has_province_modifier = depopulated_1
					has_province_modifier = depopulated_2
					has_province_modifier = depopulated_3
				}
			}
			province_event = {
				id = RIPPOP.111
			}
		}
	}
}

province_event = { #Population decline
	id = RIPPOP.111

	hide_window = yes
	
	is_triggered_only = yes
	
	option = {
			random = {
			chance = 10 #10% base chance to decrease population
				modifier = {
					factor = 1.5 #very high chance with the province modifier
					location = {
						has_province_modifier = population_decline_value_1
					}
				}
				modifier = {
					factor = 1.5 #very high chance with the province modifier
					location = {
						has_province_modifier = population_decline_value_2
					}
				}
				modifier = {
					factor = 1.5 #very high chance with the province modifier
					location = {
						has_province_modifier = population_decline_value_3
					}
				}
				modifier = {
					factor = 0.25 #over 18 stewardship you reduce the chance 
					owner = {
						stewardship = 18
					}
				}
				modifier = {
					factor = 0.25 #over 22 stewardship you reduce the chance
					owner = {
						stewardship = 22
					}
				}
				modifier = {
					factor = 1.1 #having under 10 stewardship slightly increases the chance
					owner = {
						NOT = { stewardship = 10 }
					}
				}
				modifier = {
					factor = 1.2 #having under 4 stewardship significantly increases the chance
					owner = {
						NOT = { stewardship = 4 }
					}
				}
				modifier = {
					factor = 1.3 #bad province modifiers increase chance
					OR = {
						has_province_modifier = incompetent_rule
						has_province_modifier = thieves_guild
						has_province_modifier = smugglers_ring
						has_province_modifier = highway_robber_band
						has_province_modifier = heretic_stronghold
						has_province_modifier = religious_tension
						has_province_modifier = temple_corruption
						has_province_modifier = local_death_cult
						has_province_modifier = extra_tax
					}
				}
				modifier = {
					factor = 1.1 #slightly higher chance if helping in a war
					owner = {
						any_war = {
							NOR = {
								is_primary_war_defender = yes
								is_primary_war_attacker = yes
							}
						}
						NOR = {
							any_war = {
								is_primary_war_defender = yes
							}
							any_war = {
								is_primary_war_attacker = yes
							}
						}
					}
				}
				modifier = {
					factor = 1.5 #much higher chance if defending in a war
					owner = {
						any_war = {
							is_primary_war_defender = yes
						}
						NOT = {
							any_war = {
								is_primary_war_attacker = yes
							}
						}
					}
				}
				modifier = {
					factor = 1.8 #very high chance if attacking in a war
					owner = {
						any_war = {
							is_primary_war_attacker = yes
						}
					}
				}
				modifier = {
					factor = 0 #no chance if under siege/occupied/diseased
					OR = {
						any_province_holding = {
							has_siege = yes
						}
						any_province_holding = {
							is_occupied = yes
						}
						has_disease = yes
					}
				}
			}
			
###What follows is the dynamic decrease of population for the various races.
			IF = {
				limit = {
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = two_population_human
						has_province_modifier = three_population_human
						has_province_modifier = four_population_human
						has_province_modifier = five_population_human
						has_province_modifier = six_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = two_population_dunedain
						has_province_modifier = three_population_dunedain
						has_province_modifier = four_population_dunedain
						has_province_modifier = five_population_dunedain
						has_province_modifier = six_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = two_population_elves
						has_province_modifier = three_population_elves
						has_province_modifier = four_population_elves
						has_province_modifier = five_population_elves
						has_province_modifier = six_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = two_population_dwarves
						has_province_modifier = three_population_dwarves
						has_province_modifier = four_population_dwarves
						has_province_modifier = five_population_dwarves
						has_province_modifier = six_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = six_population_human duration = -1 }
					remove_province_modifier = { name = seven_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = six_population_dunedain duration = -1 }
					remove_province_modifier = { name = seven_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = six_population_elves duration = -1 }
					remove_province_modifier = { name = seven_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = six_population_dwarves duration = -1 }
					remove_province_modifier = { name = seven_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
			}
			IF = {
				limit = {
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = two_population_human
						has_province_modifier = three_population_human
						has_province_modifier = four_population_human
						has_province_modifier = five_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = two_population_dunedain
						has_province_modifier = three_population_dunedain
						has_province_modifier = four_population_dunedain
						has_province_modifier = five_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = two_population_elves
						has_province_modifier = three_population_elves
						has_province_modifier = four_population_elves
						has_province_modifier = five_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = two_population_dwarves
						has_province_modifier = three_population_dwarves
						has_province_modifier = four_population_dwarves
						has_province_modifier = five_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = five_population_human duration = -1 }
					remove_province_modifier = { name = six_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = five_population_dunedain duration = -1 }
					remove_province_modifier = { name = six_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = five_population_elves duration = -1 }
					remove_province_modifier = { name = six_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = five_population_dwarves duration = -1 }
					remove_province_modifier = { name = six_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
			}
			IF = {
				limit = {
					check_variable = { which = population_decline_value value = 150 } #gain modifiers at 50/100/150/250/350/500 value
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = two_population_human
						has_province_modifier = three_population_human
						has_province_modifier = four_population_human
						has_province_modifier = six_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = two_population_dunedain
						has_province_modifier = three_population_dunedain
						has_province_modifier = four_population_dunedain
						has_province_modifier = six_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = two_population_elves
						has_province_modifier = three_population_elves
						has_province_modifier = four_population_elves
						has_province_modifier = six_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = two_population_dwarves
						has_province_modifier = three_population_dwarves
						has_province_modifier = four_population_dwarves
						has_province_modifier = six_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = four_population_human duration = -1 }
					remove_province_modifier = { name = five_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = four_population_dunedain duration = -1 }
					remove_province_modifier = { name = five_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = four_population_elves duration = -1 }
					remove_province_modifier = { name = five_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = four_population_dwarves duration = -1 }
					remove_province_modifier = { name = five_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
			}
			IF = {
				limit = {
					check_variable = { which = population_decline_value value = 250 } #gain modifiers at 50/100/150/250/350/500 value
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = two_population_human
						has_province_modifier = three_population_human
						has_province_modifier = five_population_human
						has_province_modifier = six_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = two_population_dunedain
						has_province_modifier = three_population_dunedain
						has_province_modifier = five_population_dunedain
						has_province_modifier = six_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = two_population_elves
						has_province_modifier = three_population_elves
						has_province_modifier = five_population_elves
						has_province_modifier = six_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = two_population_dwarves
						has_province_modifier = three_population_dwarves
						has_province_modifier = five_population_dwarves
						has_province_modifier = six_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = three_population_human duration = -1 }
					remove_province_modifier = { name = four_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = three_population_dunedain duration = -1 }
					remove_province_modifier = { name = four_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = three_population_elves duration = -1 }
					remove_province_modifier = { name = four_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = three_population_dwarves duration = -1 }
					remove_province_modifier = { name = four_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
			}
			IF = {
				limit = {
					check_variable = { which = population_decline_value value = 350 } #gain modifiers at 50/100/150/250/350/500 value
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = two_population_human
						has_province_modifier = four_population_human
						has_province_modifier = five_population_human
						has_province_modifier = six_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = two_population_dunedain
						has_province_modifier = four_population_dunedain
						has_province_modifier = five_population_dunedain
						has_province_modifier = six_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = two_population_elves
						has_province_modifier = four_population_elves
						has_province_modifier = five_population_elves
						has_province_modifier = six_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = two_population_dwarves
						has_province_modifier = four_population_dwarves
						has_province_modifier = five_population_dwarves
						has_province_modifier = six_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = two_population_human duration = -1 }
					remove_province_modifier = { name = three_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = two_population_dunedain duration = -1 }
					remove_province_modifier = { name = three_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = two_population_elves duration = -1 }
					remove_province_modifier = { name = three_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = two_population_dwarves duration = -1 }
					remove_province_modifier = { name = three_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
			}
			IF = {
				limit = {
					check_variable = { which = population_decline_value value = 500 } #gain modifiers at 50/100/150/250/350/500 value
					NOR = {
						has_province_modifier = one_population_human
						has_province_modifier = three_population_human
						has_province_modifier = four_population_human
						has_province_modifier = five_population_human
						has_province_modifier = six_population_human
						has_province_modifier = seven_population_human
						has_province_modifier = one_population_dunedain
						has_province_modifier = three_population_dunedain
						has_province_modifier = four_population_dunedain
						has_province_modifier = five_population_dunedain
						has_province_modifier = six_population_dunedain
						has_province_modifier = seven_population_dunedain
						has_province_modifier = one_population_elves
						has_province_modifier = three_population_elves
						has_province_modifier = four_population_elves
						has_province_modifier = five_population_elves
						has_province_modifier = six_population_elves
						has_province_modifier = seven_population_elves
						has_province_modifier = one_population_dwarves
						has_province_modifier = three_population_dwarves
						has_province_modifier = four_population_dwarves
						has_province_modifier = five_population_dwarves
						has_province_modifier = six_population_dwarves
						has_province_modifier = seven_population_dwarves
					}
				}
				IF = {
					location = {
						has_culture_group = culture_group_edain
						has_culture_group = culture_group_middlemen
						has_culture_group = culture_group_forodwaith
						has_culture_group = culture_group_haldadian
						has_culture_group = culture_group_southron
						has_culture_group = culture_group_easterling
						has_culture_group = culture_group_halfling
						has_culture_group = culture_group_melkor
					}
					add_province_modifier = { name = one_population_human duration = -1 }
					remove_province_modifier = { name = two_population_human duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_numenorean
					}
					add_province_modifier = { name = one_population_dunedain duration = -1 }
					remove_province_modifier = { name = two_population_dunedain duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_quendi
						has_culture_group = culture_group_amanyar
						has_culture_group = culture_group_umanyar
						has_culture_group = culture_group_moriquendi
					}
					add_province_modifier = { name = one_population_elves duration = -1 }
					remove_province_modifier = { name = two_population_elves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
				IF = {
					location = {
						has_culture_group = culture_group_dwarves
					}
					add_province_modifier = { name = one_population_dwarves duration = -1 }
					remove_province_modifier = { name = two_population_dwarves duration = -1 }
					owner = { character_event = { id = RIPPOP.121 } }
					break = yes
				}
			}
	}
}
character_event = { #population increase notification
	id = RIPPOP.120
	desc = RIPPOP.120.d
	picture = "GFX_evt_prospering_province"
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes	
	
	option = {
		name = RIPPOP.120.a
		#
	}
}

character_event = { #population increase notification
	id = RIPPOP.121
	desc = RIPPOP.121.d
	picture = "GFX_evt_prospering_province"
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes	
	
	option = {
		name = RIPPOP.121.a
		#
	}
}